{% extends "issues/base-public.html" %}

{% block content %}

{% if new_issue.needs_petition %}
    <h1>Declaration of Intent</h1>
    <p>
        You aren't obligated to run (or do anything) when you declare intent, but you must declare intent if you will be running.
        See the <a href="http://elections.stanford.edu/petition-guide">full petitions guide</a> for more info,
        and <a href="http://elections.stanford.edu/contact">contact the Elections Commission</a> if you have any questions.</p>
    <p>When you complete this form, you will automatically start a petition on this website. If you do not wish to petition
    publicly, please <a href="http://elections.stanford.edu/contact">contact the Elections Commission</a>.</p>
{% else %}
    <h1>Declare as {{ new_issue.kind_name }}</h1>
{% endif %}

<p><a href="/issues/manage">&laquo; Back to list of all positions</a></p>

<hr/>
    <h2>{{ new_issue.kind_name }}</h2>

    {% if error %}
    <dd style="background:#CC0000;color:white;font-weight:bold;padding:.5em;margin:1.5em;">Your form was not completed, and you have not yet successfully declared intent. Please review the form and correct the errors.</dd>
    {% endif %}
    {% if form.non_field_errors %}
    <dd style="background:#CC0000;color:white;font-weight:bold;padding:.5em;margin:1.5em;">{{ form.non_field_errors }}</dd>
    {% endif %}

<form action="{% url issues.views.create %}" method="post">
    <dl>
    {% for field in form %}
        {% if field.is_hidden %}
            {{ field }}
        {% else %}
            <dt>{{ field.label_tag }}</dt>
            <dd {% if field.errors %}class="error_field" {% endif %}>{{ field }}</dd>
            {% if field.help_text %}<dd class="help_text">{{ field.help_text }}</dd>{% endif %}
            {% if field.errors %}<dd class="errors">{{ field.errors }}</dd>{% endif %}
        {% endif %}
    {% endfor %}
    </dl>

<hr />
<h3>Qualification Questions</h3>
{% for f,value in form.qual_fields.items %}
    <dd><input type='checkbox' name = 'qual_{{ f }}' value = 'True' /> {{ value }}</dd>
{% endfor %}
    <div>
        <input type="submit" value="Declare Intent for {{ new_issue.kind_name }}">
    </div>
</form>

{% endblock %}